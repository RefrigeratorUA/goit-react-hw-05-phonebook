(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[2],{112:function(t,n,e){"use strict";e.r(n);var a=e(1),c=e(58),r=e.n(c),i=e(59),o=e(54),s=e(55),u=e(57),l=e(56),h=e(0),d=e(53),j=e(8),p=function(t){var n=t.onClick;return Object(a.jsx)("button",{type:"button",className:"Button",onClick:function(){return n()},children:"Back"})},v=e(15),f=e(72),m=function(t){var n=t.movie,e=n.title,c=void 0===e?"\u0423\u043f\u0441! \u0427\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...":e,r=n.poster_path,i=void 0===r?"":r,o=n.vote_average,s=void 0===o?0:o,u=n.overview,l=void 0===u?"":u,h=n.genres,j=void 0===h?[]:h;return Object(a.jsxs)("div",{className:"Card",children:[Object(a.jsx)("h1",{children:c}),Object(a.jsx)("img",{src:i?"".concat(d.a).concat(i):f.a,alt:c}),Object(a.jsxs)("p",{children:["User Score: ",s>0?10*s:0,"%"]}),Object(a.jsx)("h2",{children:"Overview"}),Object(a.jsx)("p",{children:l}),Object(a.jsx)("h3",{children:"Genres"}),j.length>0&&Object(a.jsx)("ul",{children:j.map((function(t,n){return Object(a.jsx)("li",{children:t.name},n)}))})]})},b=e(3),O=e(10);var g=Object(b.f)((function(t){var n=t.url,e=t.location;return Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(O.c,{exact:!0,to:{pathname:"".concat(n).concat(j.a.cast),state:{from:e}},className:"NavLink",activeClassName:"NavLink--active",children:"Cast"})}),Object(a.jsx)("li",{children:Object(a.jsx)(O.c,{exact:!0,to:{pathname:"".concat(n).concat(j.a.reviews),state:{from:e}},className:"NavLink",activeClassName:"NavLink--active",children:"Reviews"})})]})})),x=Object(h.lazy)((function(){return e.e(1).then(e.bind(null,114))})),k=Object(h.lazy)((function(){return e.e(6).then(e.bind(null,115))})),y=function(t){var n=t.url,e=t.path;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{children:"Additional information"}),Object(a.jsx)(g,{url:n}),Object(a.jsx)(h.Suspense,{children:Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{path:"".concat(e).concat(j.a.cast),component:x}),Object(a.jsx)(b.a,{path:"".concat(e).concat(j.a.reviews),component:k})]})})]})},w=function(t){Object(u.a)(e,t);var n=Object(l.a)(e);function e(){var t;Object(o.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=n.call.apply(n,[this].concat(c))).state={movie:{},locationFrom:null,isLoading:!1},t.handleButtonBack=function(){var n=t.props.history,e=t.state.locationFrom;n.push(e||j.a.home)},t}return Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object(i.a)(r.a.mark((function t(){var n,e,a,c,i,o,s=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isLoading:!0}),c=this.props.location,i=(null===c||void 0===c||null===(n=c.state)||void 0===n?void 0:n.from)?c.state.from:null,this.setState({locationFrom:i}),!(null===(e=this.props.match)||void 0===e||null===(a=e.params)||void 0===a?void 0:a.movieId)){t.next=8;break}return o=this.props.match.params.movieId,t.next=8,Object(d.c)(o).then((function(t){return s.setState({movie:t})})).finally((function(){return s.setState({isLoading:!1})}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.match,n=this.state,e=n.movie,c=n.isLoading;return Object(a.jsx)(a.Fragment,{children:e&&Object(a.jsxs)("div",{className:"Container",children:[Object(a.jsx)("hr",{}),Object(a.jsx)(p,{onClick:this.handleButtonBack}),c?Object(a.jsx)(v.a,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{movie:this.state.movie}),Object(a.jsx)(y,{url:t.url,path:t.path})]})]})})}}]),e}(h.Component);n.default=w},53:function(t,n,e){"use strict";e.d(n,"e",(function(){return h})),e.d(n,"c",(function(){return d})),e.d(n,"b",(function(){return j})),e.d(n,"f",(function(){return p})),e.d(n,"d",(function(){return v})),e.d(n,"a",(function(){return l}));var a=e(60),c=e.n(a),r="8add86c956039dd3121ecd9270a2bde1",i="https://api.themoviedb.org/3/",o="".concat(i,"trending/movie/day"),s="".concat(i,"movie/"),u="".concat(i,"search/movie"),l="https://image.tmdb.org/t/p/original/";function h(){return c.a.get("".concat(o),{params:{page:1,api_key:r}}).then((function(t){return t.data.results})).catch((function(t){return t}))}function d(t){return c.a.get("".concat(s).concat(t),{params:{api_key:r,language:"en-US"}}).then((function(t){return t.data})).catch((function(t){return t}))}function j(t){return c.a.get("".concat(s).concat(t,"/credits"),{params:{api_key:r,language:"en-US"}}).then((function(t){return t.data.cast})).catch((function(t){return t}))}function p(t){return c.a.get("".concat(s).concat(t,"/reviews"),{params:{page:1,api_key:r,language:"en-US"}}).then((function(t){return t.data.results})).catch((function(t){return t}))}function v(t){return c.a.get("".concat(u),{params:{page:1,api_key:r,language:"en-US",include_adult:!0,query:t}}).then((function(t){return t.data.results})).catch((function(t){return t}))}},72:function(t,n,e){"use strict";n.a=e.p+"static/media/image-not-found.da4174d9.svg"}}]);
//# sourceMappingURL=details-page.3a25d035.chunk.js.map